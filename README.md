# Кейс №2: Управление столовой

## Описание проекта
Информационная система для автоматизации процессов школьной столовой, включающая личные кабинеты для учеников, поваров и администраторов. Система поддерживает учет продуктов, формирование отчетов, управление меню и безопасные платежные операции.

## Ключевой функционал
- **Выбор ролей:** Разделение прав доступа на уровне интерфейса и серверной логики.
- **Управление балансом:** Возможность пополнения счета через привязанные банковские карты.
- **Учет продуктов:** Автоматическое списание ингредиентов со склада при покупке блюд.
- **Отчетность:** Формирование детальных отчетов по затратам и прибыли.
- **Обратная связь:** Система отзывов и поддержка пользователей.

## Безопасность данных
В системе реализована уникальная логика защиты платежных данных:
- **Криптографическое шифрование:** Все реквизиты карт (номер, срок действия) шифруются алгоритмом AES (реализация Fernet).
- **Токенизация:** Вместо хранения полных реквизитов используются внутренние идентификаторы (`card_id`).
- **Изоляция ключей:** Ключ шифрования хранится в отдельном файле `encryption.key`, что исключает расшифровку данных при компрометации только базы данных.
- **Динамическая дешифрация:** Расшифровка данных происходит "на лету" только в оперативной памяти сервера для валидации транзакций или безопасного отображения маскированного номера.

## Технологический стек
- **Backend:** Python (Flask)
- **База данных:** SQLAlchemy (SQLite)
- **Шифрование:** Cryptography (Fernet)
- **Frontend:** HTML5, CSS3, Jinja2
- **Контейнеризация:** Docker, Docker Compose

## Установка и запуск
1. Убедитесь, что у вас установлен Python или Docker.
2. При использовании Docker:
   ```bash
   docker-compose up --build
   ```
3. При ручном запуске:
   ```bash
   pip install -r requirements.txt
   python app.py
   ```

## Учетные данные по умолчанию
- **Администратор:** admin / admin123
- **Повар:** chef / chef123
- **Ученик:** student / student123
